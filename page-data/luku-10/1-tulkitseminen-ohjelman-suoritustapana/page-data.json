{"componentChunkName":"component---src-templates-course-content-template-js","path":"/luku-10/1-tulkitseminen-ohjelman-suoritustapana","result":{"data":{"page":{"htmlAst":{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"div","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"lead","properties":{},"children":[{"type":"text","value":"Tässä aliluvussa esitellään, mitä tarkoittaa ohjelmien suorittaminen tulkitsemalla. Siinä käsitellään myös, mitä tarkoittavat käsitteet suorittimen emulointi ja simulointi."}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Tulkitseminen ja tulkki"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tulkitseminen (tietokonejärjestelmissä) tarkoittaa sitä, että käyttäjän ohjelma (P) on kuvattu jollain säännöllisellä kuvauskielellä ja että käytössä on tuota kuvauskieltä ymmärtävä tulkki-ohjelma (T). Tulkki pystyy tulkitsemaan ohjelman P toiminnot ja suorittamaan ne järjestelmässä. Tulkki voi olla kirjoitettu millä tahansa ohjelmointikielellä ja se on normaali järjestelmässä suorittava prosessi, jonka esitysmuoto on järjestelmän oma konekieli. "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tulkki T voisi tietenkin olla myös kirjoitettu jollain toisella säännöllisellä kuvauskielellä, jonka käskyjä tulkitsee joku toinen tulkki T2, jne. Tätä vaihtoehtoa ei käsitellä tämän enempää, vaikka se onkin ihan realistinen."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Suoritusaikana tulkille annetaan syötteenä ohjelma P. Ohjelman P tulkitsemisen aikana järjestelmä käyttäytyy hyvin samoin kuin ohjelma P olisi itse prosessina suorituksessa, mikä tässä on tarkoituskin. Käyttäjälle (ohjelman P suorittajalle) ei ole juurikaan eroa, suoritetaanko P sen kuvausta tulkitsemalla tai sen konekielistä esitysmuotoa suorittamalla."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Käytännössä näillä eri suoritustavoilla on kuitenkin merkittäviä eroja. Tulkittavaa ohjelmaa P ei tarvitse kääntää konekielelle, joten se on hyvin helposti siirrettävissä uuteen järjestelmään. Tämä tietenkin edellyttää, että tulkki T on toteutettu myös uudessa järjestelmässä.  "}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Skriptikielet ja niiden tulkit"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tietokonejärjestelmissä on (ehkä mukana olevan graafisen käyttöliittymän lisäksi) aina olemassa komentotulkki-käyttöliittymä. Linux-järjestelmissä komentotulkkeja on useita ja käyttäjä pystyy valitsemaan, mitä niistä hän haluaa käyttää. Tällainen on esimerkiksi "},{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/Bourne_shell","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Bourne shell"}]},{"type":"text","value":", joka alkuaan kehitettiin Unix-käyttöjärjestelmälle jo 1976. Muita esimerkkejä ovat "},{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/C_Shell","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"C shell"}]},{"type":"text","value":" ja "},{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/Bash_%28Unix_shell%29","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Bash"}]},{"type":"text","value":"."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Windows-järjestelmissä on vain yksi komentotulkki ("},{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/Command_Prompt","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Cmd"}]},{"type":"text","value":"), joka on ollut käytössä vuodesta 1987."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Jos käyttöjärjestelmässä ei ole graafista käyttöliittymää, sitä käytetään suoraan komentotulkin kautta. Jos siinä on graafinen käyttöliittymä, niin komentotulkin voi käynnistää omaan ikkunaan, jossa sille voi antaa komentoja yksi kerrallaan. Esimerkiksi Windows-10 järjestelmässä komentotulkin Cmd voi käynnistää sovelluksena "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Komentokehote"}]},{"type":"text","value":" (Command Prompt). Alla olevassa esimerkissä Windows-10 komentotulkin "},{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/Current_directory","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"nykyhakemisto"}]},{"type":"text","value":" on alkuaan Z-partition "},{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/Root_directory","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"juurihakemisto"}]},{"type":"text","value":" \\. Tämä ilmenee uuden komennon kehotteena \"Z:\\>\". Komentotulkille  on annettu kaksi komentoa. Komento \"C:\" vaihtoi nykyhakemiston tiedostojärjestelmän C-partition juureen ja komento \"dir\" tulosti nykyhakemiston tiedot oletusarvoisilla parametreilla. Lopuksi jäljellä on seuraavan komennon kehote nykyhakemistossa \"C:\\>\"."}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Microsoft Windows [Version 10.0.17763.737]\n(c) 2018 Microsoft Corporation. All rights reserved.\n\nZ:\\>C:\n\nC:\\>dir\n Volume in drive C is OSDisk\n Volume Serial Number is 82E7-F226\n\n Directory of C:\\\n\n05.02.2019  18.42    <DIR>          Intel\n08.02.2019  11.41    <DIR>          LocalData\n15.09.2018  10.33    <DIR>          PerfLogs\n25.09.2019  12.03    <DIR>          Program Files\n24.09.2019  04.43    <DIR>          Program Files (x86)\n23.09.2019  17.45    <DIR>          Users\n26.09.2019  18.01    <DIR>          Windows\n23.09.2019  17.51    <DIR>          Windows.old\n               0 File(s)              0 bytes\n               8 Dir(s)  401 707 028 480 bytes free\n\nC:\\>"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Komentotulkkien skriptikielet ovat normaali käyttöliittymä järjestelmien ylläpitäjille. Ne antavat suoran käyttöliittymän järjestelmän hallintaan ja uusien skriptien (eli komentotulkin käskyillä muodostettujen ohjelmien) tekeminen erilaisiin hallintotehtäviin on hyvin helppoa. Skriptejä tulkitsee aina sen oman skriptikielen tulkki, jonka oikeudet määräytyvät tulkin käynnistämisen yhteydessä. Windows-10:n graafisessa käyttöliittymässä klikkaamalla hiiren oikealla napilla sovellusta Komentokehote (Command Prompt) voidaan pyytää suorittamaan komentotulkki pääkäyttäjän (admin) oikeuksin. Sen jälkeen komentotulkissa voi tehdä ihan mitä tahansa käyttöjärjestelmän toimintoja. Tehokkailla skripteillä saa paljon hyvää ja pahaa aikaiseksi hyvin kätevästi. "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Komentotulkille voi syöttää komentoja tai skriptejä rivi kerrallaan, kuten edellä olevassa esimerkissä tehtiin. Usein skriptit talletetaan omiin tiedostoihinsa, jotka suoritetaan sellaisenaan komentotulkissa. Linux-järjestelmissä skriptitiedostojen alussa on rivi, joka kertoo mikä skriptikieli siinä on käytössä. Näin skriptejä voi myös \"suorittaa\", kun käyttöjärjestelmä osaa käynnistää oikean tulkin kullekin skriptille. Käyttäjän näkökulmasta ne tuolloin tuntuvat suoritettavilta ohjelmilta. Suoritettavissa skripteissä voi käyttää myös muita skriptejä, jotka voi olla kirjoitettu samalla tai eri skriptikielellä. Alla olevalla "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"C shell"}]},{"type":"text","value":" skriptillä "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"edit-all"}]},{"type":"text","value":" voidaan yhdellä komennolla kertaa tehdä samat editoinnit vaikka miten monelle tiedostolle, kunhan rivieditorin "},{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/Ed_(text_editor)","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"ed"}]},{"type":"text","value":" komennot on vain ensin tallennettu tiedostoon nimeltä "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"edfile"}]},{"type":"text","value":". Esimerkiksi, nykyhakemiston 3000 tiedostossa kaikki merkkijonot \"vanha\" voisi vaihtaa merkkijonoon \"uusi\" komennolla "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"edit-all"}]},{"type":"text","value":", jos "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ed"}]},{"type":"text","value":"-komennot \"1,$s/vanha/uusi/g\" ja \"w\" on ensin talletettu tiedostoon "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"edfile"}]},{"type":"text","value":". "}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"#! /bin/csh -f\n# edit-all -- run ed for all source files\n# create first \"edfile\"  for editing commands\n\nforeach par ( $*  )\n    cat  edfile | ed $par \nend"}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Jos edellisen esimerkin rivieditorille "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ed"}]},{"type":"text","value":" annetaan vain muutama komento, ne voi antaa "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"komentoriviparametreina"}]},{"type":"text","value":" ilman syötetiedostoa. Toisaalta, syötetiedosto voi olla hyvinkin pitkä. Tällöin rivieditorin voi mieltää komentotulkkina ja sen syötteen skripteinä. Rivieditorin syötetiedoston taas voisi hyvin luoda jokin muu skripti. Skriptit antavat siis mahdollisuuden hyvin tehokkaaseen ohjelmointiin."}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Emulointi"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/Emulator","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Emulaattori"}]},{"type":"text","value":" tarkoittaa ohjelmaa (tai laitteistoa), jonka kautta käytössä oleva järjestelmä saadaan tuntumaan samalta kuin jokin muu järjestelmä. Esimerkiksi Titokone on ohjelma, joka emuloi ttk-91 suoritinta (ja sen käyttöjärjestelmää) missä tahansa järjestelmässä, missä Titokoneen voi suorittaa. Titokoneessa on ohjelman sisäisinä tietorakenteina kaikki hypoteettisen ttk-91 suorittimen rekisterit ja muisti. Kaikki ttk-91 ohjelmat voidaan suorittaa Titokoneessa ja ne käyttäytyvät (suoritusaikaa lukuunottamatta) samalla tavalla kuin jos ne olisi suoritettu todellisella ttk-91 suorittimella. "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Intelin hyvin kauan käytössä olleelle x86 suoritinarkkitehtuurille toimivia ohjelmia on valtava määrä ja Intel haluaa, että niiden latausmoduuleja voi suorittaa sellaisenaan (joskus muinoin käännetyssä ja linkitetyssä x86-konekielisessä muodossa) nykyisissä Intelin suorittimissa. Tällaisia vanhoja ohjelmia kutsutaan joskus nimellä \"dusty deck\", koska osa niistä voi olla kirjoitettu "},{"type":"element","tagName":"a","properties":{"href":"https://fi.wikipedia.org/wiki/Reik%C3%A4kortti","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"reikäkorttiaikaan"}]},{"type":"text","value":". Uusissa suorittimissa voi laitteistolla olla samalla mikropiirillä toteutettu x86-emulaattori. Toinen vaihtoehto on ohjelmana toteutettu x86-emulaattori, jolle vanhat x86-ohjelmat voi antaa suoritettavaksi. Tai sitten uuden suorittimen konekieli on suoraan x86-konekielen laajennus, jolloin x86-käskyt toimivat sellaisenaan. Joka tapauksessa näin voidaan saada pelaajille vanhat x86-pelit edelleen suorituskelpoisiksi."}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Simulointi"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/Simulation","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Simulointi"}]},{"type":"text","value":" on sukua tulkitsemiselle ja emuloinnille, mutta tarkoittaa vähän eri asiaa. Tulkitsemisessa annetaan täsmällisiä komentoja järjestelmälle ja emuloinnissa imitoidaan yhden laitteen tai järjestelmän toimintaa toisella laitteella tai järjestelmällä. Simulointi on lähempänä emulointia, koska siinäkin jäljitellään jonkin toisen laitteen tai systeemin toimintaa joiltakin osin. "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tietokonepelit ovat simulaattoreita. Niissä mallinnetaan todellista tai kuviteltua maailmaa pelin suunnittelijan määräämällä tarkkuudella. Kun pelaajan hahmot liikkuvat pelissä, simulaattori laskee koko ajan muuttuvan pelitilanteen, joka näkyy (ja tuntuu?) pelaajalle joko reaaliaikaisesti tai simuloidun ajan mukaan. Ammuntapeleissä aika liikkuu usein näennäisen reaaliaikaisesti kun taas esimerkiksi laivastopeleissä aika voi edetä paljon nopeammin kuin todellisuudessa tapahtuisi. Pelaajan mielenkiinto lopsahtaisi, jos pelin aikana pitäisi odottaa viikko, kun laivasto liikkuu uuteen paikkaan."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Lentokonesimulaattori jäljittelee todellisen lentokoneen ohjaamista sillä tarkkuudella kuin on kussakin käyttökohteessa järkevää. Tietokonepelissä riittää jäljitellä yksinkertaisimmat toiminnot, jolloin käyttöliittymäksi voi riittää tietokoneen näppäimistö, hiiri ja näyttö. Lentäjien koulutuksessa halutaan mahdollisimman paljon realismia simulointiin, jolloin käyttöliittymä voisi olla täsmälleen oikean lentokoneen ohjaimisto ja jokaisen säätimen toiminta täsmälleen sama kuin mitä se olisi oikeassa koneessa. Ohjaamon ikkunoiden kohdalla voi olla tehokas näyttö, joka näyttää simuloidun näkymän siihen suuntaan. Lisäksi lentäjien koulutuksessa simuloitu aika etenee tarvittaessa samaa tahtia kuin todellisuudessa. Simulaattorit ovat niin hyviä, että ensi kertaa oikealla koneella lennettäessä kyydissä on jo matkustajatkin."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tietokoneen ohjelman toiminnan simuloinnissa voitaisiin sen suorituskykyarvioinnin yhteydessä keskittyä laskennan käyttämään aikaan. Tällöin esimerkiksi sovelluksen "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"UhkaArvio"}]},{"type":"text","value":" aliohjelman "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"LaskeOhjuksenSijainti"}]},{"type":"text","value":" suorituksen simuloinnissa ei suoritetakaan itse koodia, vaan ainoastaan kulutetaan simuloitua aikaa sen verran kuin koodin suoritus oikealla "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ensi vuonna käyttöön tulevalla suorittimella"}]},{"type":"text","value":" kestäisi. Simuloinnin lopputulos voi olla, että sovelluksen "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"UhkaArvio"}]},{"type":"text","value":" suorittamiseen kuluu 0.84 sekuntia. Jos tämä on liikaa, niin ehkä esimerkiksi aliohjelman "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"LaskeOhjuksenSijainti"}]},{"type":"text","value":" koodia pitää vielä optimoida lisää."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tavallaan Titokone on myöskin oikeastaan vain simulaattori, koska se ei emuloi ihan kaikkia ttk-91 suorittimen toimintoja täsmällisesti. Ttk-91 suorittimen ja sen käyttöjärjestelmän määrittely ei ole täydellinen, joten täsmällistä toimintaa ei ole edes määritelty kunnolla. Ttk-91 suoritin on kuitenkin riittävän hyvin määritelty, jotta Titokone voi simuloida sen toimintaa tärkeiden komponenttien osalta funktionaalisesti oikein ja riittävällä tarkkuudella tämän kurssin tavoitteisiin nähden. "}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Käsitteiden "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"emulointi"}]},{"type":"text","value":" ja "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"simulointi"}]},{"type":"text","value":" käyttö ei ole täysin vakiintunut, vaan niitä käytetään osittain sekaisin. Toisen emulaattori voi olla toisen simulaattori."}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Quizit 10.1"}]},{"type":"comment","value":" Quiz 10.1.?? "},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"quiz","properties":{"id":"917e9a56-15a6-5dd4-bcb6-a7344ccb1a76"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"quiz","properties":{"id":"69a52ba4-50b0-55d3-85dd-ec043495f5e6"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"quiz","properties":{"id":"67f2c3d4-1549-5cfe-8c51-7026876d57a5"},"children":[]}]}]},"html":"<div><div>\n<lead>Tässä aliluvussa esitellään, mitä tarkoittaa ohjelmien suorittaminen tulkitsemalla. Siinä käsitellään myös, mitä tarkoittavat käsitteet suorittimen emulointi ja simulointi.</lead>\n</div><h2>Tulkitseminen ja tulkki</h2><p>Tulkitseminen (tietokonejärjestelmissä) tarkoittaa sitä, että käyttäjän ohjelma (P) on kuvattu jollain säännöllisellä kuvauskielellä ja että käytössä on tuota kuvauskieltä ymmärtävä tulkki-ohjelma (T). Tulkki pystyy tulkitsemaan ohjelman P toiminnot ja suorittamaan ne järjestelmässä. Tulkki voi olla kirjoitettu millä tahansa ohjelmointikielellä ja se on normaali järjestelmässä suorittava prosessi, jonka esitysmuoto on järjestelmän oma konekieli. </p><p>Tulkki T voisi tietenkin olla myös kirjoitettu jollain toisella säännöllisellä kuvauskielellä, jonka käskyjä tulkitsee joku toinen tulkki T2, jne. Tätä vaihtoehtoa ei käsitellä tämän enempää, vaikka se onkin ihan realistinen.</p><p>Suoritusaikana tulkille annetaan syötteenä ohjelma P. Ohjelman P tulkitsemisen aikana järjestelmä käyttäytyy hyvin samoin kuin ohjelma P olisi itse prosessina suorituksessa, mikä tässä on tarkoituskin. Käyttäjälle (ohjelman P suorittajalle) ei ole juurikaan eroa, suoritetaanko P sen kuvausta tulkitsemalla tai sen konekielistä esitysmuotoa suorittamalla.</p><p>Käytännössä näillä eri suoritustavoilla on kuitenkin merkittäviä eroja. Tulkittavaa ohjelmaa P ei tarvitse kääntää konekielelle, joten se on hyvin helposti siirrettävissä uuteen järjestelmään. Tämä tietenkin edellyttää, että tulkki T on toteutettu myös uudessa järjestelmässä.  </p><h3>Skriptikielet ja niiden tulkit</h3><p>Tietokonejärjestelmissä on (ehkä mukana olevan graafisen käyttöliittymän lisäksi) aina olemassa komentotulkki-käyttöliittymä. Linux-järjestelmissä komentotulkkeja on useita ja käyttäjä pystyy valitsemaan, mitä niistä hän haluaa käyttää. Tällainen on esimerkiksi <a href=\"https://en.wikipedia.org/wiki/Bourne_shell\" target=\"_blank\" rel=\"noopener noreferrer\">Bourne shell</a>, joka alkuaan kehitettiin Unix-käyttöjärjestelmälle jo 1976. Muita esimerkkejä ovat <a href=\"https://en.wikipedia.org/wiki/C_Shell\" target=\"_blank\" rel=\"noopener noreferrer\">C shell</a> ja <a href=\"https://en.wikipedia.org/wiki/Bash_%28Unix_shell%29\" target=\"_blank\" rel=\"noopener noreferrer\">Bash</a>.</p><p>Windows-järjestelmissä on vain yksi komentotulkki (<a href=\"https://en.wikipedia.org/wiki/Command_Prompt\" target=\"_blank\" rel=\"noopener noreferrer\">Cmd</a>), joka on ollut käytössä vuodesta 1987.</p><p>Jos käyttöjärjestelmässä ei ole graafista käyttöliittymää, sitä käytetään suoraan komentotulkin kautta. Jos siinä on graafinen käyttöliittymä, niin komentotulkin voi käynnistää omaan ikkunaan, jossa sille voi antaa komentoja yksi kerrallaan. Esimerkiksi Windows-10 järjestelmässä komentotulkin Cmd voi käynnistää sovelluksena <em>Komentokehote</em> (Command Prompt). Alla olevassa esimerkissä Windows-10 komentotulkin <a href=\"https://en.wikipedia.org/wiki/Current_directory\" target=\"_blank\" rel=\"noopener noreferrer\">nykyhakemisto</a> on alkuaan Z-partition <a href=\"https://en.wikipedia.org/wiki/Root_directory\" target=\"_blank\" rel=\"noopener noreferrer\">juurihakemisto</a> \\. Tämä ilmenee uuden komennon kehotteena \"Z:\\>\". Komentotulkille  on annettu kaksi komentoa. Komento \"C:\" vaihtoi nykyhakemiston tiedostojärjestelmän C-partition juureen ja komento \"dir\" tulosti nykyhakemiston tiedot oletusarvoisilla parametreilla. Lopuksi jäljellä on seuraavan komennon kehote nykyhakemistossa \"C:\\>\".</p><div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Microsoft Windows [Version 10.0.17763.737]\n(c) 2018 Microsoft Corporation. All rights reserved.\n\nZ:\\&gt;C:\n\nC:\\&gt;dir\n Volume in drive C is OSDisk\n Volume Serial Number is 82E7-F226\n\n Directory of C:\\\n\n05.02.2019  18.42    &lt;DIR&gt;          Intel\n08.02.2019  11.41    &lt;DIR&gt;          LocalData\n15.09.2018  10.33    &lt;DIR&gt;          PerfLogs\n25.09.2019  12.03    &lt;DIR&gt;          Program Files\n24.09.2019  04.43    &lt;DIR&gt;          Program Files (x86)\n23.09.2019  17.45    &lt;DIR&gt;          Users\n26.09.2019  18.01    &lt;DIR&gt;          Windows\n23.09.2019  17.51    &lt;DIR&gt;          Windows.old\n               0 File(s)              0 bytes\n               8 Dir(s)  401 707 028 480 bytes free\n\nC:\\&gt;</code></pre></div><p>Komentotulkkien skriptikielet ovat normaali käyttöliittymä järjestelmien ylläpitäjille. Ne antavat suoran käyttöliittymän järjestelmän hallintaan ja uusien skriptien (eli komentotulkin käskyillä muodostettujen ohjelmien) tekeminen erilaisiin hallintotehtäviin on hyvin helppoa. Skriptejä tulkitsee aina sen oman skriptikielen tulkki, jonka oikeudet määräytyvät tulkin käynnistämisen yhteydessä. Windows-10:n graafisessa käyttöliittymässä klikkaamalla hiiren oikealla napilla sovellusta Komentokehote (Command Prompt) voidaan pyytää suorittamaan komentotulkki pääkäyttäjän (admin) oikeuksin. Sen jälkeen komentotulkissa voi tehdä ihan mitä tahansa käyttöjärjestelmän toimintoja. Tehokkailla skripteillä saa paljon hyvää ja pahaa aikaiseksi hyvin kätevästi. </p><p>Komentotulkille voi syöttää komentoja tai skriptejä rivi kerrallaan, kuten edellä olevassa esimerkissä tehtiin. Usein skriptit talletetaan omiin tiedostoihinsa, jotka suoritetaan sellaisenaan komentotulkissa. Linux-järjestelmissä skriptitiedostojen alussa on rivi, joka kertoo mikä skriptikieli siinä on käytössä. Näin skriptejä voi myös \"suorittaa\", kun käyttöjärjestelmä osaa käynnistää oikean tulkin kullekin skriptille. Käyttäjän näkökulmasta ne tuolloin tuntuvat suoritettavilta ohjelmilta. Suoritettavissa skripteissä voi käyttää myös muita skriptejä, jotka voi olla kirjoitettu samalla tai eri skriptikielellä. Alla olevalla <em>C shell</em> skriptillä <em>edit-all</em> voidaan yhdellä komennolla kertaa tehdä samat editoinnit vaikka miten monelle tiedostolle, kunhan rivieditorin <a href=\"https://en.wikipedia.org/wiki/Ed_(text_editor)\" target=\"_blank\" rel=\"noopener noreferrer\">ed</a> komennot on vain ensin tallennettu tiedostoon nimeltä <em>edfile</em>. Esimerkiksi, nykyhakemiston 3000 tiedostossa kaikki merkkijonot \"vanha\" voisi vaihtaa merkkijonoon \"uusi\" komennolla <em>edit-all</em>, jos <em>ed</em>-komennot \"1,$s/vanha/uusi/g\" ja \"w\" on ensin talletettu tiedostoon <em>edfile</em>. </p><div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">#! /bin/csh -f\n# edit-all -- run ed for all source files\n# create first &quot;edfile&quot;  for editing commands\n\nforeach par ( $*  )\n    cat  edfile | ed $par \nend</code></pre></div><p>Jos edellisen esimerkin rivieditorille <em>ed</em> annetaan vain muutama komento, ne voi antaa <em>komentoriviparametreina</em> ilman syötetiedostoa. Toisaalta, syötetiedosto voi olla hyvinkin pitkä. Tällöin rivieditorin voi mieltää komentotulkkina ja sen syötteen skripteinä. Rivieditorin syötetiedoston taas voisi hyvin luoda jokin muu skripti. Skriptit antavat siis mahdollisuuden hyvin tehokkaaseen ohjelmointiin.</p><h2>Emulointi</h2><p><a href=\"https://en.wikipedia.org/wiki/Emulator\" target=\"_blank\" rel=\"noopener noreferrer\">Emulaattori</a> tarkoittaa ohjelmaa (tai laitteistoa), jonka kautta käytössä oleva järjestelmä saadaan tuntumaan samalta kuin jokin muu järjestelmä. Esimerkiksi Titokone on ohjelma, joka emuloi ttk-91 suoritinta (ja sen käyttöjärjestelmää) missä tahansa järjestelmässä, missä Titokoneen voi suorittaa. Titokoneessa on ohjelman sisäisinä tietorakenteina kaikki hypoteettisen ttk-91 suorittimen rekisterit ja muisti. Kaikki ttk-91 ohjelmat voidaan suorittaa Titokoneessa ja ne käyttäytyvät (suoritusaikaa lukuunottamatta) samalla tavalla kuin jos ne olisi suoritettu todellisella ttk-91 suorittimella. </p><p>Intelin hyvin kauan käytössä olleelle x86 suoritinarkkitehtuurille toimivia ohjelmia on valtava määrä ja Intel haluaa, että niiden latausmoduuleja voi suorittaa sellaisenaan (joskus muinoin käännetyssä ja linkitetyssä x86-konekielisessä muodossa) nykyisissä Intelin suorittimissa. Tällaisia vanhoja ohjelmia kutsutaan joskus nimellä \"dusty deck\", koska osa niistä voi olla kirjoitettu <a href=\"https://fi.wikipedia.org/wiki/Reik%C3%A4kortti\" target=\"_blank\" rel=\"noopener noreferrer\">reikäkorttiaikaan</a>. Uusissa suorittimissa voi laitteistolla olla samalla mikropiirillä toteutettu x86-emulaattori. Toinen vaihtoehto on ohjelmana toteutettu x86-emulaattori, jolle vanhat x86-ohjelmat voi antaa suoritettavaksi. Tai sitten uuden suorittimen konekieli on suoraan x86-konekielen laajennus, jolloin x86-käskyt toimivat sellaisenaan. Joka tapauksessa näin voidaan saada pelaajille vanhat x86-pelit edelleen suorituskelpoisiksi.</p><h2>Simulointi</h2><p><a href=\"https://en.wikipedia.org/wiki/Simulation\" target=\"_blank\" rel=\"noopener noreferrer\">Simulointi</a> on sukua tulkitsemiselle ja emuloinnille, mutta tarkoittaa vähän eri asiaa. Tulkitsemisessa annetaan täsmällisiä komentoja järjestelmälle ja emuloinnissa imitoidaan yhden laitteen tai järjestelmän toimintaa toisella laitteella tai järjestelmällä. Simulointi on lähempänä emulointia, koska siinäkin jäljitellään jonkin toisen laitteen tai systeemin toimintaa joiltakin osin. </p><p>Tietokonepelit ovat simulaattoreita. Niissä mallinnetaan todellista tai kuviteltua maailmaa pelin suunnittelijan määräämällä tarkkuudella. Kun pelaajan hahmot liikkuvat pelissä, simulaattori laskee koko ajan muuttuvan pelitilanteen, joka näkyy (ja tuntuu?) pelaajalle joko reaaliaikaisesti tai simuloidun ajan mukaan. Ammuntapeleissä aika liikkuu usein näennäisen reaaliaikaisesti kun taas esimerkiksi laivastopeleissä aika voi edetä paljon nopeammin kuin todellisuudessa tapahtuisi. Pelaajan mielenkiinto lopsahtaisi, jos pelin aikana pitäisi odottaa viikko, kun laivasto liikkuu uuteen paikkaan.</p><p>Lentokonesimulaattori jäljittelee todellisen lentokoneen ohjaamista sillä tarkkuudella kuin on kussakin käyttökohteessa järkevää. Tietokonepelissä riittää jäljitellä yksinkertaisimmat toiminnot, jolloin käyttöliittymäksi voi riittää tietokoneen näppäimistö, hiiri ja näyttö. Lentäjien koulutuksessa halutaan mahdollisimman paljon realismia simulointiin, jolloin käyttöliittymä voisi olla täsmälleen oikean lentokoneen ohjaimisto ja jokaisen säätimen toiminta täsmälleen sama kuin mitä se olisi oikeassa koneessa. Ohjaamon ikkunoiden kohdalla voi olla tehokas näyttö, joka näyttää simuloidun näkymän siihen suuntaan. Lisäksi lentäjien koulutuksessa simuloitu aika etenee tarvittaessa samaa tahtia kuin todellisuudessa. Simulaattorit ovat niin hyviä, että ensi kertaa oikealla koneella lennettäessä kyydissä on jo matkustajatkin.</p><p>Tietokoneen ohjelman toiminnan simuloinnissa voitaisiin sen suorituskykyarvioinnin yhteydessä keskittyä laskennan käyttämään aikaan. Tällöin esimerkiksi sovelluksen <em>UhkaArvio</em> aliohjelman <em>LaskeOhjuksenSijainti</em> suorituksen simuloinnissa ei suoritetakaan itse koodia, vaan ainoastaan kulutetaan simuloitua aikaa sen verran kuin koodin suoritus oikealla <em>ensi vuonna käyttöön tulevalla suorittimella</em> kestäisi. Simuloinnin lopputulos voi olla, että sovelluksen <em>UhkaArvio</em> suorittamiseen kuluu 0.84 sekuntia. Jos tämä on liikaa, niin ehkä esimerkiksi aliohjelman <em>LaskeOhjuksenSijainti</em> koodia pitää vielä optimoida lisää.</p><p>Tavallaan Titokone on myöskin oikeastaan vain simulaattori, koska se ei emuloi ihan kaikkia ttk-91 suorittimen toimintoja täsmällisesti. Ttk-91 suorittimen ja sen käyttöjärjestelmän määrittely ei ole täydellinen, joten täsmällistä toimintaa ei ole edes määritelty kunnolla. Ttk-91 suoritin on kuitenkin riittävän hyvin määritelty, jotta Titokone voi simuloida sen toimintaa tärkeiden komponenttien osalta funktionaalisesti oikein ja riittävällä tarkkuudella tämän kurssin tavoitteisiin nähden. </p><p>Käsitteiden <em>emulointi</em> ja <em>simulointi</em> käyttö ei ole täysin vakiintunut, vaan niitä käytetään osittain sekaisin. Toisen emulaattori voi olla toisen simulaattori.</p><h2>Quizit 10.1</h2><!-- Quiz 10.1.?? --><div><quiz id=\"917e9a56-15a6-5dd4-bcb6-a7344ccb1a76\"></quiz></div>\n<div><quiz id=\"69a52ba4-50b0-55d3-85dd-ec043495f5e6\"></quiz></div>\n<div><quiz id=\"67f2c3d4-1549-5cfe-8c51-7026876d57a5\"></quiz></div></div>","frontmatter":{"path":"/luku-10/1-tulkitseminen-ohjelman-suoritustapana","title":"Tulkitseminen ohjelman suoritustapana"}},"allPages":{"edges":[{"node":{"id":"5b6302a2-c64b-508c-91c4-2db0957cc4b2","frontmatter":{"path":"/arvostelu-ja-kokeet","title":"Arvostelu ja kokeet"}}},{"node":{"id":"799b0272-abdf-59f0-b9b3-03947af42427","frontmatter":{"path":"/credits","title":"Tekijänoikeudet ja lisenssit"}}},{"node":{"id":"82621c5a-f915-50d4-828d-8eede35fdbf7","frontmatter":{"path":"/opettajille","title":"Opettajille ja opinto-ohjaajille"}}},{"node":{"id":"6ed176ef-1be8-53dc-8513-8c4e14a7ce38","frontmatter":{"path":"/osaamistavoitteet","title":"Osaamistavoitteet"}}},{"node":{"id":"2d5ef803-9204-51b7-8d1b-891f29cac1ab","frontmatter":{"path":"/tukivaylat","title":"Tukiväylät"}}},{"node":{"id":"62fa7239-7639-50e3-accb-d209fb4f0984","frontmatter":{"path":"/","title":""}}},{"node":{"id":"9374d347-238d-5d15-a799-d9e134097e9c","frontmatter":{"path":"/usein-kysytyt-kysymykset","title":"Usein kysytyt kysymykset"}}},{"node":{"id":"25d93020-25bf-51eb-97b6-bdc2d0248ede","frontmatter":{"path":"/luku-10/1-tulkitseminen-ohjelman-suoritustapana","title":"Tulkitseminen ohjelman suoritustapana"}}},{"node":{"id":"a49be168-fcf3-5169-95ff-fbb93911c744","frontmatter":{"path":"/luku-10/3-java-ohjelmien-suoritustavat","title":"Java-ohjelmien suoritustavat"}}},{"node":{"id":"96acc546-7537-5245-af40-c0a343f43e57","frontmatter":{"path":"/luku-10/2-java-virtuaalikone","title":"Java virtuaalikone (JVM)"}}},{"node":{"id":"4e1f7d23-545a-578e-8502-1c016428d15a","frontmatter":{"path":"/luku-10/4-emulointi-suorittimen-toteutustapana","title":"Emulointi suorittimen toteutustapana"}}},{"node":{"id":"cc1cb9ab-8bc3-59eb-b373-ef1ef4682363","frontmatter":{"path":"/luku-10","title":"Luku 10: Tulkinta ja emulointi"}}},{"node":{"id":"f1365a76-4fbc-5542-9fa7-f3f1f5216696","frontmatter":{"path":"/luku-5/0-kertaus","title":"Perusteet-kurssin kertaus"}}},{"node":{"id":"d4832ed4-06c4-5023-94dd-c56d9b3c41aa","frontmatter":{"path":"/luku-5/2-valinta-ja-toistolauseet","title":"Ohjelmoinnin peruskäsitteet sekä valinta- ja toistolauseiden toteutus"}}},{"node":{"id":"22e14f18-d591-5b76-bc01-38d14cd680c5","frontmatter":{"path":"/luku-5/1-ttk-91","title":"Esimerkkitietokone ttk-91"}}},{"node":{"id":"668ae475-1d6e-51a8-a31a-18fda782eae4","frontmatter":{"path":"/luku-5/3-rakenteinen-tieto","title":"Rakenteisen tiedon toteutus ja siihen viittaaminen"}}},{"node":{"id":"adc41c13-389b-5ce4-a479-0caa5271449e","frontmatter":{"path":"/luku-5/4-optimoitu-koodi","title":"Optimoitu koodi"}}},{"node":{"id":"0ad1f9dc-df1c-5319-aab2-35699e72ce91","frontmatter":{"path":"/luku-5/5-titokone-titotrainer","title":"Titokone ja TitoTrainer"}}},{"node":{"id":"2373db22-c9f3-579a-83a5-7da1843c4181","frontmatter":{"path":"/luku-5","title":"Luku 5: Konekielinen ohjelmointi"}}},{"node":{"id":"9fb3f792-821e-5683-b13f-aa15c30ea444","frontmatter":{"path":"/luku-6/1-aliohjelmat","title":"Aliohjelmat, parametrityypit, aktivaatiotietue (AT)"}}},{"node":{"id":"b2137737-4997-5b6f-9c79-f81a20870ffe","frontmatter":{"path":"/luku-6/2-akt-tiet-rakentaminen","title":"Aktivaatiotietueen rakentaminen"}}},{"node":{"id":"d73cb6c1-d9fa-55c6-be7f-55c899bef652","frontmatter":{"path":"/luku-6/3-viiteparametrit","title":"Viiteparametrit ja ulostuloparametrit"}}},{"node":{"id":"6b15a20b-2879-57a1-b9a2-321c9c0bdeee","frontmatter":{"path":"/luku-6/4-kj-palvelut","title":"Käyttöjärjestelmäpalvelujen käyttö"}}},{"node":{"id":"9dd0cfca-308d-52e9-b7c9-87bd80b1e3ec","frontmatter":{"path":"/luku-6","title":"Luku 6: Aliohjelmien toteutus"}}},{"node":{"id":"550311b6-6492-58a1-ac20-c4c6ded21215","frontmatter":{"path":"/luku-7/1-vika-virhe-hairio","title":"Vika, virhe ja häiriö"}}},{"node":{"id":"d078f99d-62b5-5564-ba0d-0db0a1a125e9","frontmatter":{"path":"/luku-7/3-muisti-cache-ssd","title":"Järjestelmän sisäisten muistien toteutus"}}},{"node":{"id":"ea808cef-5af4-5657-a911-c57be158f85f","frontmatter":{"path":"/luku-7/2-tiedon-muuttumattomuus","title":"Tiedon muuttumattomuuden turvaaminen"}}},{"node":{"id":"416d64ce-5ffe-5e05-ba25-661028cbe13b","frontmatter":{"path":"/luku-7","title":"Luku 7: Tiedon muuttumattomuus ja erilaiset muistit"}}},{"node":{"id":"e0ee5976-ad00-5b27-8809-adc036d067bc","frontmatter":{"path":"/luku-8/1-muistihierarkia","title":"Muistihierarkia ja virtuaalimuisti"}}},{"node":{"id":"1ceaef01-e5c2-58d4-8898-e980f9d6ac9a","frontmatter":{"path":"/luku-8/2-tiedostot-massamuisti","title":"Tiedostojärjestelmä, tiedostot ja massamuisti"}}},{"node":{"id":"9b30c941-92d6-56de-9b5a-d476a488677a","frontmatter":{"path":"/luku-8/3-io-toteutus","title":"I/O:n toteutus"}}},{"node":{"id":"7967b05d-f768-543f-9069-20c79559cf74","frontmatter":{"path":"/luku-8","title":"Luku 8: Ulkoisen muistin käyttö ja I/O:n toteutus"}}},{"node":{"id":"a4421758-c50f-5cad-8743-46b4fa6d731f","frontmatter":{"path":"/luku-9/1-lausekielesta-suoritukseen","title":"Lausekielestä suoritukseen"}}},{"node":{"id":"d5e20fce-1056-5299-8c49-8e44bc54cdfc","frontmatter":{"path":"/luku-9/2-kaantaminen","title":"Kääntäminen"}}},{"node":{"id":"285cf4c9-0cf8-500b-848d-ad9d9a76ce11","frontmatter":{"path":"/luku-9/3-linkitys","title":"Linkitys"}}},{"node":{"id":"22e4b1ba-4ba7-5aad-98b6-0d4778090bca","frontmatter":{"path":"/luku-9/4-lataus","title":"Lataus"}}},{"node":{"id":"a18c72ea-cb8c-5f68-826e-b2e4ade4c972","frontmatter":{"path":"/luku-9","title":"Luku 9: Käännös, linkitys ja lataus"}}}]}},"pageContext":{}},"staticQueryHashes":["2283872788","994120085"]}